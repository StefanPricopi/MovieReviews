@page
@model Web_app.Pages.ManagerPanelModel
@{
}
@if (ViewData["SuccessMessage"] != null)
{
    <div class="alert alert-success" role="alert">
        @Html.Raw(ViewData["SuccessMessage"])
    </div>
}
<div>
    <b>Profiles:</b>
</div>

<div class="cards-grid">
    @foreach (var userDTO in Model.Users)
    {
        <a href="/UserDetails?id=@userDTO.UserId" class="card text-decoration-none">
            <div class="card-img-container" style="background-image: url('../img/mock img.jpg');"></div>
            <div class="card-content">
                <h2>Username: @userDTO.Username</h2>
                <p>UserID: @userDTO.UserId</p>

                <!-- Add a button to set the account to inactive -->
                <form method="post" asp-page-handler="SetAccountInactive" asp-route-userId="@userDTO.UserId" onsubmit="return confirm('Are you sure you want to set this account to inactive?');">
                    <input type="hidden" name="userId" value="@userDTO.UserId" />
                    <button type="submit" class="btn btn-danger">Set Inactive</button>
                </form>
            </div>
        </a>
    }
</div>
